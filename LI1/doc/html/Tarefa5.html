<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa5</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Daniel Furtado &lt;a97327@alunos.uminho.pt&gt;;<br />Gabriela Cunha &lt;a97393@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa5</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>Na Tarefa 5 foi-nos atribu&#237;da a tarefa onde consegu&#237;ssemos implementar um comportamento eficiente nos Ghosts para que assim consegu&#237;ssemos tornar o jogo mais interativo.</p><h1>Objetivos</h1><p>Para come&#231;ar esta tarefa debatemos sobre v&#225;rias alternativas para que os Ghosts se conseguissem movimentar independentemente, e com uma dificuldade acrescida para o Pacman conseguir fugir.</p><p>Come&#231;amos por dividir esta tarefa em v&#225;rias partes para utilizar um m&#233;todo mais eficiente.</p><ul><li>Criar uma fun&#231;&#227;o na Tarefa2 para que assim os Ghosts se consigam mover e estender a fun&#231;&#227;o <strong>play</strong> para a movimenta&#231;&#227;o dos Ghosts.</li><li>Fazer com que os Ghosts persigam o Pacman quando este esteja em modo Normal e os Ghosts estejam em modo Alive.</li><li>Os Ghosts fugirem do Pacman quando este est&#225; em modo Mega e eles estejam no modo Dead.</li><li>&#218;ltima parte, juntar as duas fun&#231;&#245;es.</li></ul><h1>Decis&#245;es</h1><p>Para come&#231;ar o trabalho alteramos a Tarefa2:</p><ul><li>Criamos a fun&#231;&#227;o na qual os Ghosts tamb&#233;m se movem, no entanto estes n&#227;o podem ir para os T&#250;neis.</li><li>Como os Ghosts n&#227;o podem atravessar os T&#250;neis removemos essa op&#231;&#227;o.</li><li>Aplicando por fim a fun&#231;&#227;o criada na fun&#231;&#227;o principal <strong>play</strong>.</li></ul><p>Na segunda parte do nosso trabalho cri&#225;mos uma fun&#231;&#227;o <strong><code><a href="Tarefa5.html#v:chaseMode" title="Tarefa5">chaseMode</a></code></strong> :</p><ul><li>O Ghost vai verificar se o Pacman est&#225; mais &#224; esquerda ou &#224; direita.</li><li>Caso o Pacman eseja mais &#224; direita e n&#227;o esteja nenhuma <strong><em>Wall</em></strong> &#224; sua direita ent&#227;o ele ir&#225; mover-se para a direita. O mesmo acontece se o Pacman estiver mais &#224; direita, o Ghost ir&#225; mover-se para a esquerda.</li><li>Se houver uma parede na dire&#231;&#227;o na qual o Ghost pretende ir ent&#227;o ele ir&#225; ver se o Pacman est&#225; em cima ou em baixo.</li><li>Quando o Pacman estiver abaixo ent&#227;o o Ghost ir&#225; mover-se para baixo, por outro lado se o Pacman estiver mais em cima ent&#227;o mover-se-&#225; para cima.</li><li>Se o Ghost n&#227;o conseguir concluir a jogada acima ent&#227;o ter&#225; que ir para a dire&#231;&#227;o oposta.</li><li>Quando tiver as mesmas coordenadas dos y's ent&#227;o ir&#225; na dire&#231;&#227;o dos x's do Pacman, conseguindo assim ca&#231;ar o Pacman.</li></ul><p>Na pr&#243;xima fase criamos a fun&#231;&#227;o <strong><code><a href="Tarefa5.html#v:scatterMode" title="Tarefa5">scatterMode</a></code></strong> para que o Ghost consiga fugir do Pacman quando este est&#225; em modo Mega:</p><ul><li>Tal como na fun&#231;&#227;o <strong>chaseMode</strong> o Ghost ir&#225; verificar as coordenadas do Pacman.</li><li>Caso o Pacman esteja &#224; sua direita e o Ghost n&#227;o possua nenhuma <strong><em>Wall</em></strong> &#224; sua esquerda ent&#227;o ir&#225; mover-se para a esquerda, afastando-se assim do Pacman.</li><li>Por outro lado se o Pacman estiver &#224; esquerda ent&#227;o o Pacman vai para a direita, se n&#227;o houver nenhuma <strong><em>Wall</em></strong> &#224; sua direita.</li><li>Nos dois casos caso haja <strong><em>Wall</em></strong> para a posi&#231;&#227;o na qual o Ghost pretende ir ent&#227;o ele ir&#225; verificar se o Pacman est&#225; mais acima ou abaixo e, assim, tomar a decis&#227;o correta.</li><li>Se o Pacman estiver em cima o Ghost vai para baixo. Caso contr&#225;rio ir&#225; para cima. Isto se n&#227;o houver nehnuma <strong><em>Wall</em></strong> a impedir o movimento.</li><li>Caso haja alguma <strong><em>Wall</em></strong> ent&#227;o ir&#225; tomar a orienta&#231;&#227;o oposta.</li></ul><p>Na &#250;ltima parte juntamos as duas fun&#231;&#245;es:</p><ul><li>Para juntar as duas fun&#231;&#245;es ordenamos as listas de Players, para que o Pacman fique sempre em primeiro da lista, comparando-o com os restantes Ghosts.</li><li>Na fun&#231;&#227;o <strong><code><a href="Tarefa5.html#v:chaseMode" title="Tarefa5">chaseMode</a></code></strong> apenas est&#227;o os Ghosts de modo Alive, para que assim persigam o Pacman.</li><li>Na fun&#231;&#227;o <strong><code><a href="Tarefa5.html#v:scatterMode" title="Tarefa5">scatterMode</a></code></strong> est&#227;o os Ghosts no modo Dead para que fujam quando estiverem nesse modo.</li></ul><h1>Conclus&#227;o </h1><p>Nesta tarefa tivemos algumas dificuldades em escolher qual o melhor m&#233;todo para que os Ghosts persigam o Pacman, visto que existem muitas formas.</p><p>Um problema que houve foi quando o Ghost ao fugir fica preso na <strong><em>Wall</em></strong>, n&#227;o conseguindo resolver esse problema.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:ghostPlay">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:chaseMode-39-">chaseMode'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:scatterMode-39-">scatterMode'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:scatterMode1">scatterMode1</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:scatterMode1-39-">scatterMode1'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:chaseMode1">chaseMode1</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:chaseMode1-39-">chaseMode1'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:ghostPlay" class="def">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:ghostPlay" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o final que recebe uma State com as listas ordenadas de ambas as fun&#231;&#245;es finais.</p></div></div><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o final na qual o Ghost respetivo ao ID recebido produz uma jogada para perseguir o Pacman.</p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o final na qual o Ghost respetivo ao ID recebido produz uma jogada para fugir do Pacman.</p></div></div><div class="top"><p class="src"><a id="v:chaseMode-39-" class="def">chaseMode'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseMode-39-" class="selflink">#</a></p><div class="doc"><p>Ordena a lista do State na fun&#231;&#227;o chaseMode.</p></div></div><div class="top"><p class="src"><a id="v:scatterMode-39-" class="def">scatterMode'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:scatterMode-39-" class="selflink">#</a></p><div class="doc"><p>Ordena a lista do State na fun&#231;&#227;o chaseMode.</p></div></div><div class="top"><p class="src"><a id="v:scatterMode1" class="def">scatterMode1</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:scatterMode1" class="selflink">#</a></p><div class="doc"><p>Aplica a fun&#231;&#227;o scatterMode' a todos os Ghosts na lista de Players do State.</p></div></div><div class="top"><p class="src"><a id="v:scatterMode1-39-" class="def">scatterMode1'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:scatterMode1-39-" class="selflink">#</a></p><div class="doc"><p>Usa a fun&#231;&#227;o scatterMode1 com a lista ordenada do State.</p></div></div><div class="top"><p class="src"><a id="v:chaseMode1" class="def">chaseMode1</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:chaseMode1" class="selflink">#</a></p><div class="doc"><p>Aplica a fun&#231;&#227;o chaseMode' a todos os Ghosts na lista de Players do State.</p></div></div><div class="top"><p class="src"><a id="v:chaseMode1-39-" class="def">chaseMode1'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:chaseMode1-39-" class="selflink">#</a></p><div class="doc"><p>Usa a fun&#231;&#227;o chaseMode1 com a lista ordenada do State.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>